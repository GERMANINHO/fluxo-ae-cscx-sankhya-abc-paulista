<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fluxo AE — CS/CX — Sankhya ABC Paulista</title>

  <link href="https://fonts.googleapis.com/css2?family=Open+Sans+Condensed:wght@300;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#f5f3e7;
      --text:#443c3d;
      --green:#66cc00;
      --purple:#72508d;

      --modal-bg:#ffffff;
      --overlay:rgba(0,0,0,.45);

      --btn-bg:#0f172a0f;
      --btn-border:#cbd5e1;
      --btn-hover:#0f172a14;
      --btn-text:#0f172a;
    }

    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font-family:"Open Sans Condensed",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    }

    .wrapper{ padding:50px 100px; }

    .svg-container{ position:relative; width:100%; padding-bottom:70%; overflow:hidden; background:var(--bg); }
    .svg-content{ position:absolute; inset:0; }

    .node{ cursor:pointer; outline:none; }
    .node-label{
      font-family:"Open Sans Condensed",Arial,sans-serif;
      font-weight:900;
      fill:#f5f3e7;
      text-transform:uppercase;
      letter-spacing:.45px;
      font-size:10px;
      pointer-events:none;
    }
    .node-label.xs{ font-size:8px; letter-spacing:.32px; }
    .node-label.xxs{ font-size:7px; letter-spacing:.28px; }
    .node rect.main{ transition: transform .15s ease, filter .25s ease; }
    .node:hover rect.main, .node:focus rect.main{
      transform: translateY(-1px);
      filter: brightness(1.05) saturate(1.02) drop-shadow(0 8px 18px rgba(0,0,0,.18));
    }

    .node .pulse{
      fill:var(--pulse-color,#66cc00);
      fill-opacity:.10;
      opacity:0;
      transform-box:fill-box;
      transform-origin:center;
      pointer-events:none;
    }
    .node:hover .pulse,.node:focus .pulse{
      animation:pulseAnim 1.1s ease-out infinite;
      opacity:1;
    }
    @keyframes pulseAnim{
      0%{transform:scale(1);opacity:.55}
      70%{transform:scale(1.18);opacity:0}
      100%{transform:scale(1.18);opacity:0}
    }

    .edge--dotted{
      stroke:#333; stroke-width:2; stroke-dasharray:2 1; fill:none; stroke-linecap:round;
    }

    /* Modal */
    .modal{
      position:fixed; inset:0;
      display:none; align-items:center; justify-content:center;
      background:var(--overlay);
      z-index:999;
      padding:18px;
    }
    .modal.open{ display:flex; }
    .modal__panel{
      background:var(--modal-bg);
      color:var(--text);
      width:min(92vw,760px);
      border-radius:16px;
      box-shadow:0 10px 40px rgba(0,0,0,.25);
      padding:20px 20px 16px;
      border:1px solid #e2e8f0;
      max-height:86vh;
      overflow:auto;
    }
    .modal__header{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      margin-bottom:8px;
    }
    .modal__title{
      margin:0;
      font-size:20px;
      text-transform:uppercase;
      letter-spacing:.5px;
    }
    .modal__close{
      appearance:none;
      border:0;
      background:transparent;
      font-size:20px;
      line-height:1;
      padding:6px 10px;
      border-radius:8px;
      cursor:pointer;
      color:var(--btn-text);
    }
    .modal__close:hover{ background:#0001; }
    .modal__body{ padding:8px 2px 0; }
    .modal__body h3{ margin:12px 0 6px; font-size:16px; }
    .modal__body ul, .modal__body ol{ margin:8px 0 8px 18px; }

    .modal__actions{
      display:grid;
      grid-template-columns:1fr;
      gap:10px;
      margin-top:12px;
    }
    .btn{
      display:inline-block;
      text-decoration:none;
      text-align:center;
      padding:12px 16px;
      border-radius:12px;
      border:1px solid var(--btn-border);
      background:var(--btn-bg);
      color:var(--btn-text);
      font-weight:700;
      letter-spacing:.6px;
      text-transform:uppercase;
      transition: background .2s, box-shadow .2s, transform .06s;
    }
    .btn:hover,.btn:focus{ background:var(--btn-hover); box-shadow:0 0 0 2px #00000010 inset; }
    .btn:active{ transform:translateY(1px); }
    .btn--green{ border-color:#86efac; }
    .btn--purple{ border-color:#d8b4fe; }
    .modal__hint{ margin:6px 2px 0; font-size:12px; opacity:.75; }

    code{ background:#00000010; padding:2px 6px; border-radius:8px; }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="svg-container">
      <svg viewBox="0 0 1000 700" preserveAspectRatio="xMinYMin meet"
           class="svg-content" role="img" aria-labelledby="title desc"
           xmlns="http://www.w3.org/2000/svg">
        <title id="title">Fluxo AE — Acompanhamento Evolutivo</title>
        <desc id="desc">Fluxo operacional do AE, com etapas Sankhya e SenseData.</desc>

        <!-- INÍCIO -->
        <g transform="translate(40,40)">
          <circle fill="#000" cx="55" cy="55" r="48"/>
          <text x="55" y="55" text-anchor="middle" dominant-baseline="middle"
                font-family="Open Sans Condensed" font-size="22" fill="#f5f3e7"
                style="text-transform:uppercase; letter-spacing:1px">Início</text>
        </g>

        <!-- Linha pontilhada início -> passo 1 -->
        <line x1="143" y1="95" x2="220" y2="95" class="edge--dotted"/>

        <!-- PASSO 1 -->
        <g class="node" id="node-1" tabindex="0" role="button" aria-label="Abrir Passo 1"
           transform="translate(220,60)" style="--pulse-color:#66cc00;">
          <rect class="pulse" x="0" y="0" rx="10" ry="10" width="210" height="70"/>
          <rect class="main"  x="0" y="0" rx="8"  ry="8"  width="210" height="70" fill="#66cc00"/>
          <text class="node-label xs" x="105" y="28" text-anchor="middle">
            <tspan x="105" dy="0">Passo 1</tspan>
            <tspan x="105" dy="18">Sankhya — Acomp. Visita</tspan>
          </text>
        </g>

        <line x1="430" y1="95" x2="510" y2="95" class="edge--dotted"/>

        <!-- PASSO 2 -->
        <g class="node" id="node-2" tabindex="0" role="button" aria-label="Abrir Passo 2"
           transform="translate(510,60)" style="--pulse-color:#66cc00;">
          <rect class="pulse" x="0" y="0" rx="10" ry="10" width="210" height="70"/>
          <rect class="main"  x="0" y="0" rx="8"  ry="8"  width="210" height="70" fill="#66cc00"/>
          <text class="node-label xs" x="105" y="28" text-anchor="middle">
            <tspan x="105" dy="0">Passo 2</tspan>
            <tspan x="105" dy="18">SenseData — Agendamento AE</tspan>
          </text>
        </g>

        <line x1="720" y1="95" x2="800" y2="95" class="edge--dotted"/>

        <!-- PASSO 3 -->
        <g class="node" id="node-3" tabindex="0" role="button" aria-label="Abrir Passo 3"
           transform="translate(800,60)" style="--pulse-color:#66cc00;">
          <rect class="pulse" x="0" y="0" rx="10" ry="10" width="180" height="70"/>
          <rect class="main"  x="0" y="0" rx="8"  ry="8"  width="180" height="70" fill="#66cc00"/>
          <text class="node-label xxs" x="90" y="28" text-anchor="middle">
            <tspan x="90" dy="0">Passo 3</tspan>
            <tspan x="90" dy="18">Sense — Plano de Trabalho</tspan>
          </text>
        </g>

        <!-- Linha 2 -->
        <line x1="890" y1="130" x2="890" y2="200" class="edge--dotted"/>
        <line x1="890" y1="200" x2="220" y2="200" class="edge--dotted"/>

        <!-- PASSO 4 -->
        <g class="node" id="node-4" tabindex="0" role="button" aria-label="Abrir Passo 4"
           transform="translate(220,165)" style="--pulse-color:#66cc00;">
          <rect class="pulse" x="0" y="0" rx="10" ry="10" width="210" height="70"/>
          <rect class="main"  x="0" y="0" rx="8"  ry="8"  width="210" height="70" fill="#66cc00"/>
          <text class="node-label xs" x="105" y="28" text-anchor="middle">
            <tspan x="105" dy="0">Passo 4</tspan>
            <tspan x="105" dy="18">Sense — Diagnóstico AE</tspan>
          </text>
        </g>

        <line x1="430" y1="200" x2="510" y2="200" class="edge--dotted"/>

        <!-- PASSO 5 -->
        <g class="node" id="node-5" tabindex="0" role="button" aria-label="Abrir Passo 5"
           transform="translate(510,165)" style="--pulse-color:#66cc00;">
          <rect class="pulse" x="0" y="0" rx="10" ry="10" width="210" height="70"/>
          <rect class="main"  x="0" y="0" rx="8"  ry="8"  width="210" height="70" fill="#66cc00"/>
          <text class="node-label xxs" x="105" y="24" text-anchor="middle">
            <tspan x="105" dy="0">Passo 5</tspan>
            <tspan x="105" dy="16">Sankhya — AE (Novo)</tspan>
            <tspan x="105" dy="16">Gerar Excel/PDF + Email</tspan>
          </text>
        </g>

        <line x1="720" y1="200" x2="800" y2="200" class="edge--dotted"/>

        <!-- PASSO 6 -->
        <g class="node" id="node-6" tabindex="0" role="button" aria-label="Abrir Passo 6"
           transform="translate(800,165)" style="--pulse-color:#66cc00;">
          <rect class="pulse" x="0" y="0" rx="10" ry="10" width="180" height="70"/>
          <rect class="main"  x="0" y="0" rx="8"  ry="8"  width="180" height="70" fill="#66cc00"/>
          <text class="node-label xxs" x="90" y="28" text-anchor="middle">
            <tspan x="90" dy="0">Passo 6</tspan>
            <tspan x="90" dy="18">Sense — Montagem Plano</tspan>
          </text>
        </g>

        <!-- Linha 3 -->
        <line x1="890" y1="235" x2="890" y2="305" class="edge--dotted"/>
        <line x1="890" y1="305" x2="220" y2="305" class="edge--dotted"/>

        <!-- PASSO 7 -->
        <g class="node" id="node-7" tabindex="0" role="button" aria-label="Abrir Passo 7"
           transform="translate(220,270)" style="--pulse-color:#66cc00;">
          <rect class="pulse" x="0" y="0" rx="10" ry="10" width="210" height="70"/>
          <rect class="main"  x="0" y="0" rx="8"  ry="8"  width="210" height="70" fill="#66cc00"/>
          <text class="node-label xs" x="105" y="28" text-anchor="middle">
            <tspan x="105" dy="0">Passo 7</tspan>
            <tspan x="105" dy="18">Sense — Apresentação Plano</tspan>
          </text>
        </g>

        <line x1="430" y1="305" x2="510" y2="305" class="edge--dotted"/>

        <!-- PASSO 8 -->
        <g class="node" id="node-8" tabindex="0" role="button" aria-label="Abrir Passo 8"
           transform="translate(510,270)" style="--pulse-color:#66cc00;">
          <rect class="pulse" x="0" y="0" rx="10" ry="10" width="210" height="70"/>
          <rect class="main"  x="0" y="0" rx="8"  ry="8"  width="210" height="70" fill="#66cc00"/>
          <text class="node-label xs" x="105" y="28" text-anchor="middle">
            <tspan x="105" dy="0">Passo 8</tspan>
            <tspan x="105" dy="18">Sense — Sintonia do Projeto</tspan>
          </text>
        </g>

        <!-- FIM -->
        <line x1="720" y1="305" x2="820" y2="305" class="edge--dotted"/>
        <g transform="translate(820,250)">
          <circle fill="#000" cx="55" cy="55" r="48"/>
          <text x="55" y="55" text-anchor="middle" dominant-baseline="middle"
                font-family="Open Sans Condensed" font-size="22" fill="#f5f3e7"
                style="text-transform:uppercase; letter-spacing:1px">Fim</text>
        </g>

      </svg>
    </div>
  </div>

  <!-- ===== Modais ===== -->

  <div class="modal" id="modal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="modal__panel" role="document">
      <div class="modal__header">
        <h2 class="modal__title" id="modal-title">Etapa</h2>
        <button class="modal__close" type="button" id="modal-close" aria-label="Fechar">✕</button>
      </div>
      <div class="modal__body" id="modal-body"></div>
    </div>
  </div>

  <template id="tpl-1">
    <p><strong>Onde:</strong> Sankhya Matriz — <em>CS - Acompanhamento Visita</em></p>
    <p><strong>Caminho:</strong> Dashboards » Customer Success » CS - Acompanhamento Visita</p>
    <p><strong>ID:</strong> <code>br.com.sankhya.menu.adicional.nuDsb.1003.1</code></p>

    <h3>Objetivo</h3>
    <p>Identificar quais empresas estão em atraso no Acompanhamento Evolutivo e decidir qual será feita.</p>

    <h3>Checklist</h3>
    <ul>
      <li>Filtrar/avaliar clientes “Em Atraso”.</li>
      <li>Escolher o cliente do AE da rodada.</li>
      <li>Anotar data da última visita/AE para referência.</li>
    </ul>
  </template>

  <template id="tpl-2">
    <p><strong>Onde:</strong> SenseData — dentro do cliente escolhido</p>
    <h3>Ação</h3>
    <ul>
      <li>Adicionar o <strong>Playbook do AE</strong>.</li>
      <li>Responder a primeira atividade: <strong>Agendamento do Acompanhamento Evolutivo</strong>.</li>
    </ul>

    <h3>Preenchimentos (base)</h3>
    <ul>
      <li><strong>Tipo de atividade:</strong> Ligação</li>
      <li><strong>Descrição:</strong> Agendamento</li>
      <li><strong>Anotações:</strong> Contexto do cliente (transição, evento relevante, objetivo do AE).</li>
    </ul>

    <div class="modal__actions">
      <a class="btn btn--green" target="_blank" rel="noopener noreferrer"
         href="https://sankhya.sensedata.io/portfolio">Abrir SenseData (Portfolio)</a>
    </div>
    <div class="modal__hint">No Sense, busque o cliente e acesse o Playbook AE.</div>
  </template>

  <template id="tpl-3">
    <p><strong>Onde:</strong> SenseData — atividade do Playbook AE</p>
    <p><strong>Atividade:</strong> <strong>Apresentação do Plano de Trabalho</strong></p>

    <h3>Objetivo</h3>
    <p>Apresentar a agenda do AE (o que será visto, quais áreas/processos, horários, responsáveis).</p>

    <h3>Anotações (exemplo)</h3>
    <p>“Apresentação do Plano de Trabalho e organização da agenda do dia.”</p>

    <div class="modal__actions">
      <a class="btn btn--green" target="_blank" rel="noopener noreferrer"
         href="https://sankhya.sensedata.io/portfolio">Abrir SenseData (Portfolio)</a>
    </div>
  </template>

  <template id="tpl-4">
    <p><strong>Onde:</strong> SenseData — atividade do Playbook AE</p>
    <p><strong>Atividade:</strong> <strong>Diagnóstico do Acompanhamento Evolutivo</strong></p>

    <h3>Objetivo</h3>
    <p>Aplicar diagnóstico com usuários de cada área envolvida, coletando dores, gaps e oportunidades.</p>

    <h3>Anotações (exemplo)</h3>
    <p>“Aplicação do diagnóstico com os usuários de cada área envolvida no processo.”</p>

    <div class="modal__actions">
      <a class="btn btn--green" target="_blank" rel="noopener noreferrer"
         href="https://sankhya.sensedata.io/portfolio">Abrir SenseData (Portfolio)</a>
    </div>
  </template>

  <template id="tpl-5">
    <p><strong>Onde:</strong> Sankhya Matriz — <em>CS - Acompanhamento Evolutivo (Novo)</em></p>
    <p><strong>Caminho:</strong> Analytics AI » SankhyaMitraBI 04-04-2024 » CX » CS - Acompanhamento Evolutivo (Novo)</p>
    <p><strong>ID:</strong> <code>br.com.sankhya.analytics2.new.sc.t_4312.5.2265</code></p>

    <h3>Objetivo</h3>
    <ol>
      <li>Consolidar informações do cliente (contrato, NPS, suporte, MRR etc.).</li>
      <li>Analisar visão de uso (módulos, adquiridas, apps).</li>
      <li>Validar indicadores/cards (GOL), personalizações e integrações (terceiros).</li>
      <li>Definir foco do AE (processos sem uso / uso parcial / ondas).</li>
      <li><strong>Gerar Plano de Ação</strong> (Excel + PDF).</li>
    </ol>

    <h3>Extra obrigatório (ANTES do Passo 6)</h3>
    <p><strong>Envio do Excel por e-mail</strong> ao cliente → este e-mail vira o <strong>PDF</strong> do registro.</p>
    <ul>
      <li>Gerar o <strong>Excel</strong> do plano de ação</li>
      <li>Enviar para o cliente por e-mail (modelo padrão)</li>
      <li>Salvar/gerar o <strong>PDF do e-mail</strong></li>
      <li>No SenseData, anexar: <strong>Excel + PDF (e-mail)</strong></li>
    </ul>

    <div class="modal__actions">
      <a class="btn btn--green" target="_blank" rel="noopener noreferrer"
         href="https://sankhya.sensedata.io/portfolio">Abrir SenseData (para anexar Excel/PDF)</a>
    </div>

    <div class="modal__hint">Dica operacional: mantenha o padrão de assunto “Sankhya ABC Paulista | Acompanhamento Evolutivo | Cliente”.</div>
  </template>

  <template id="tpl-6">
    <p><strong>Onde:</strong> SenseData — atividade do Playbook AE</p>
    <p><strong>Atividade:</strong> <strong>Montagem do Plano de Evolução</strong></p>

    <h3>Objetivo</h3>
    <p>Registrar a montagem do plano e anexar os arquivos gerados (Excel + PDF).</p>

    <h3>Anotações (exemplo)</h3>
    <p>“Montagem do Plano de Evolução (Em anexo)”</p>

    <div class="modal__actions">
      <a class="btn btn--green" target="_blank" rel="noopener noreferrer"
         href="https://sankhya.sensedata.io/portfolio">Abrir SenseData (Portfolio)</a>
    </div>
  </template>

  <template id="tpl-7">
    <p><strong>Onde:</strong> SenseData — atividade do Playbook AE</p>
    <p><strong>Atividade:</strong> <strong>Apresentação do Plano de Evolução</strong></p>

    <h3>Objetivo</h3>
    <p>Apresentar ao cliente as principais melhorias, priorização, atribuição (Sankhya/Cliente) e horas previstas.</p>

    <h3>Anotações (exemplo)</h3>
    <p>“Apresentação do Plano de Evolução. Principais Melhorias.”</p>

    <div class="modal__actions">
      <a class="btn btn--green" target="_blank" rel="noopener noreferrer"
         href="https://sankhya.sensedata.io/portfolio">Abrir SenseData (Portfolio)</a>
    </div>
  </template>

  <template id="tpl-8">
    <p><strong>Onde:</strong> SenseData — atividade do Playbook AE</p>
    <p><strong>Atividade:</strong> <strong>Sintonia do Projeto (Plano de Evolução)</strong></p>

    <h3>Objetivo</h3>
    <p>Alinhar status do plano, próximos passos, dependências e governança do acompanhamento.</p>

    <div class="modal__actions">
      <a class="btn btn--green" target="_blank" rel="noopener noreferrer"
         href="https://sankhya.sensedata.io/portfolio">Abrir SenseData (Portfolio)</a>
    </div>
  </template>

  <script>
    (function(){
      const modal = document.getElementById('modal');
      const modalTitle = document.getElementById('modal-title');
      const modalBody = document.getElementById('modal-body');
      const btnClose = document.getElementById('modal-close');

      const nodes = [
        { id:'node-1', title:'Passo 1 — Sankhya (Acompanhamento Visita)', tpl:'tpl-1' },
        { id:'node-2', title:'Passo 2 — SenseData (Agendamento AE)', tpl:'tpl-2' },
        { id:'node-3', title:'Passo 3 — SenseData (Plano de Trabalho)', tpl:'tpl-3' },
        { id:'node-4', title:'Passo 4 — SenseData (Diagnóstico AE)', tpl:'tpl-4' },
        { id:'node-5', title:'Passo 5 — Sankhya (AE Novo + Excel/PDF + Email)', tpl:'tpl-5' },
        { id:'node-6', title:'Passo 6 — SenseData (Montagem Plano de Evolução)', tpl:'tpl-6' },
        { id:'node-7', title:'Passo 7 — SenseData (Apresentação Plano)', tpl:'tpl-7' },
        { id:'node-8', title:'Passo 8 — SenseData (Sintonia do Projeto)', tpl:'tpl-8' },
      ];

      let lastTrigger = null;

      function openModal(title, templateId, triggerEl){
        const tpl = document.getElementById(templateId);
        if (!tpl) return;

        lastTrigger = triggerEl || null;

        modalTitle.textContent = title;
        modalBody.innerHTML = tpl.innerHTML;

        modal.classList.add('open');
        modal.setAttribute('aria-hidden','false');

        document.documentElement.style.overflow='hidden';
        document.body.style.overflow='hidden';
      }

      function closeModal(){
        modal.classList.remove('open');
        modal.setAttribute('aria-hidden','true');
        modalBody.innerHTML = '';

        document.documentElement.style.overflow='';
        document.body.style.overflow='';

        if (lastTrigger && lastTrigger.focus) lastTrigger.focus();
      }

      nodes.forEach(n=>{
        const el = document.getElementById(n.id);
        if (!el) return;

        el.addEventListener('click', ()=>openModal(n.title, n.tpl, el));
        el.addEventListener('keydown', (e)=>{
          if (e.key==='Enter' || e.key===' '){
            e.preventDefault();
            openModal(n.title, n.tpl, el);
          }
        });
      });

      btnClose.addEventListener('click', closeModal);
      modal.addEventListener('click', (e)=>{ if (e.target === modal) closeModal(); });

      document.addEventListener('keydown', (e)=>{
        if (e.key === 'Escape' && modal.classList.contains('open')) closeModal();
      });

      // Fecha modal ao clicar em botões/link (opcional, mantém padrão do Pendências)
      document.addEventListener('click', (e)=>{
        const a = e.target.closest('a.btn');
        if (a && modal.classList.contains('open')) {
          // deixa abrir nova aba e fecha modal
          setTimeout(closeModal, 50);
        }
      });
    })();
  </script>
</body>
</html>
